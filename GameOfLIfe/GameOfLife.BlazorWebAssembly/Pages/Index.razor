@page "/"
@inject Engine.Implementations.GameOfLife _game
@inject Engine.Implementations.RandomEnder _ender
@inject SquareLandReseatable _land
@inject HtmlObserver _observer
@inject Engine.Implementations.ClassicGod _god
@inject IJSRuntime JsRuntime

<PageTitle>Game of Life</PageTitle>

<h1>Game of Life</h1>

<button @onclick="Play">Again</button>
<button @onclick="Next">Next</button>
<hr />

@((MarkupString)@_observer.Logger)


@code {

    protected override void OnInitialized()
    {
        Play();
    }

    public void Play()
    {
        _land.Reset();
        _game.Initialize(_land, _god, _observer);
        _game.Start();
        _game.Next();
    }

    public void Next()
    {
        //if (_ender?.ShouldContinue() ?? false)
        //{
            _game.Next();
        //}
    }
}
